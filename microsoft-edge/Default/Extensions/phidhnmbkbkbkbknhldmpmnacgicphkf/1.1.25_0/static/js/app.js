webpackJsonp([1],{"+Tf1":function(e,t){},"4kcg":function(e,t){},IAVS:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),n=a("Xxa5"),s=a.n(n),i=a("//Fk"),o=a.n(i),c=a("exGp"),l=a.n(c),d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("svg",{staticClass:"spinner",attrs:{width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"}},[t("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"}})])])},staticRenderFns:[]};var u=a("VU/8")({name:"Spinner"},d,!1,function(e){a("wprs")},"data-v-15fbd917",null).exports,p=a("M4fF"),m=a.n(p),f=a("Zrlr"),v=a.n(f),h=a("wxAW"),y=a.n(h);function g(e){return new o.a(function(t,a){window.chrome.runtime.sendMessage({action:"sendHttpRequest",request:e},function(e){e&&200===e.status?t(e):a(new Error("Page could not be reached."))})})}var w="https://www.mybib.com/api",b=new(function(){function e(){v()(this,e)}return y()(e,[{key:"search",value:function(){var e=l()(s.a.mark(function e(t){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=1,e.next=4,g({url:w+"/styles/search?q="+t,method:"GET"});case 4:r=e.sent,a=r.data.styles,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}]),e}()),_={name:"StyleSelector",props:["currentStyle"],components:{Spinner:u},data:function(){return{searchTerm:"",isSearching:!1,searchResults:[]}},methods:{close:function(){this.$emit("close")},doSearch:m.a.debounce(l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isSearching=!0,e.next=3,b.search(this.searchTerm);case 3:this.searchResults=e.sent,this.isSearching=!1;case 5:case"end":return e.stop()}},e,this)})),200),selectStyle:function(e){var t=this;return l()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$emit("changeStyle",e);case 1:case"end":return a.stop()}},a,t)}))()}},mounted:function(){this.doSearch("")}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{background:"#fff",bottom:"0",left:"0",position:"absolute",right:"0",top:"0","z-index":"10"}},[a("header",{staticClass:"mb2"},[a("div",{staticClass:"absolute",staticStyle:{left:"0",top:"0"}},[a("mu-icon-button",{attrs:{icon:"arrow_back"},on:{click:e.close}})],1),e._v(" "),a("div",{staticClass:"f4 mh5 pv2 tc"},[e._v("\n      Select your style\n    ")])]),e._v(" "),a("div",{staticClass:"absolute flex flex-column mh3",staticStyle:{bottom:"10px",left:"0",top:"46px",right:"0"}},[a("div",{staticClass:"f5 mb3 tc"},[a("div",{staticClass:"mb2"},[e._v("Current style")]),e._v(" "),a("div",{staticClass:"fw5"},[e._v(e._s(e.currentStyle.name))])]),e._v(" "),a("div",{ref:"styleSearchBox",staticClass:"search-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],attrs:{type:"text",placeholder:"Search?"},domProps:{value:e.searchTerm},on:{keyup:function(t){return e.doSearch()},input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),e._v(" "),a("i",{staticClass:"material-icons"},[e._v("search")])]),e._v(" "),e.isSearching?e._e():a("ul",{staticClass:"search-results",staticStyle:{"flex-grow":"1"}},e._l(e.searchResults,function(t,r){return a("li",{key:r},[a("button",{on:{click:function(a){return e.selectStyle(t)}}},[a("span",[t.isPopular?a("span",{staticClass:"popular"},[e._v("Popular")]):e._e(),e._v(e._s(t.name))])])])}),0),e._v(" "),e.isSearching?a("Spinner"):e._e()],1)])},staticRenderFns:[]};var C=a("VU/8")(_,x,!1,function(e){a("suC7")},"data-v-670ebe25",null).exports,S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"name"},[a("div",{staticClass:"label"},[a("button",{ref:"dropdownTrigger",on:{click:function(t){e.dropdownIsOpen=!0}}},[a("span",[e._v("\n        "+e._s(e.labelToDisplay)+"  "),a("i",{staticClass:"material-icons"},[e._v("arrow_drop_down")])])]),e._v(" "),a("mu-popover",{attrs:{trigger:e.dropdownTrigger,open:e.dropdownIsOpen},on:{close:function(t){e.dropdownIsOpen=!1}}},[a("mu-menu",[a("mu-menu-item",{attrs:{title:e.label},on:{click:function(t){return e.useLiteralName(!1)}}}),e._v(" "),a("mu-menu-item",{attrs:{title:"Organization"},on:{click:function(t){return e.useLiteralName(!0)}}})],1)],1)],1),e._v(" "),a("div",{staticClass:"input"},[e.literalNameIsSelected?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.name.given,expression:"name.given"}],attrs:{type:"text",placeholder:"First name(s)"},domProps:{value:e.name.given},on:{input:function(t){t.target.composing||e.$set(e.name,"given",t.target.value)}}}),e._v(" "),e.literalNameIsSelected?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.name.family,expression:"name.family"}],attrs:{type:"text",placeholder:"Last name"},domProps:{value:e.name.family},on:{input:function(t){t.target.composing||e.$set(e.name,"family",t.target.value)}}}),e._v(" "),e.literalNameIsSelected?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name.literal,expression:"name.literal"}],staticClass:"expand",attrs:{type:"text",placeholder:"Company or organization name"},domProps:{value:e.name.literal},on:{input:function(t){t.target.composing||e.$set(e.name,"literal",t.target.value)}}}):e._e(),e._v(" "),a("button",{staticClass:"red",staticStyle:{"margin-right":"-8px"},attrs:{title:"Remove person"},on:{click:function(t){return e.$emit("onDelete")}}},[a("i",{staticClass:"material-icons mr0"},[e._v("remove_circle_outline")])])])])},staticRenderFns:[]};var k={name:"ReferenceForm",components:{ReferenceFormName:a("VU/8")({name:"ReferenceFormName",props:["label","name"],data:function(){return{dropdownIsOpen:!1,literalNameIsSelected:!1,dropdownTrigger:null}},computed:{labelToDisplay:function(){return this.literalNameIsSelected?"Organization":this.label}},methods:{useLiteralName:function(e){this.literalNameIsSelected=e,e?(this.name.given=null,this.name.family=null):this.name.literal=null,this.dropdownIsOpen=!1}},beforeMount:function(){this.name.literal&&(this.literalNameIsSelected=!0)},mounted:function(){this.dropdownTrigger=this.$refs.dropdownTrigger}},S,!1,function(e){a("IAVS")},null,null).exports},props:["reference"],data:function(){return{isLoading:!1}},methods:{updateDetails:function(){var e=this;return l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$emit("updateDetails",e.reference);case 1:case"end":return t.stop()}},t,e)}))()},close:function(){this.$emit("close")}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"absolute bottom-0 left-0 right-0 top-0",staticStyle:{background:"#fff","z-index":"10"}},[a("header",{staticClass:"bg-white mb2",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)"}},[a("div",{staticClass:"absolute",staticStyle:{left:"0",top:"0"}},[a("mu-icon-button",{attrs:{icon:"arrow_back"},on:{click:e.close}})],1),e._v(" "),a("div",{staticClass:"f4 mh5 pv2 tc"},[e._v("\n      Edit details\n    ")])]),e._v(" "),a("div",{staticClass:"absolute bottom-0 left-0 pv2 ph3 right-0",staticStyle:{top:"46px","overflow-y":"auto","overflow-x":"hidden"}},[a("div",{staticClass:"field names"},[a("transition-group",{attrs:{name:"fade-forward"}},e._l(e.reference.metadata.author,function(t){return a("ReferenceFormName",{key:t,attrs:{label:"Author of webpage",name:t},on:{onDelete:function(a){e.reference.metadata.author.splice(e.reference.metadata.author.indexOf(t),1)}}})}),1),e._v(" "),a("button",{staticClass:"add-name-btn secondary-color",on:{click:function(t){return e.reference.metadata.author.push({})}}},[e._m(0)])],1),e._v(" "),a("div",{staticClass:"field string"},[a("label",[e._v("Title of webpage")]),e._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.title,expression:"reference.metadata.title"}],attrs:{type:"text",name:"title"},domProps:{value:e.reference.metadata.title},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata,"title",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"field string"},[a("label",[e._v("Website name")]),e._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.containerTitle,expression:"reference.metadata.containerTitle"}],attrs:{type:"text",name:"containerTitle"},domProps:{value:e.reference.metadata.containerTitle},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata,"containerTitle",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"field date"},[a("label",[e._v("Date published")]),e._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.issued.year,expression:"reference.metadata.issued.year"}],attrs:{type:"text",placeholder:"YYYY"},domProps:{value:e.reference.metadata.issued.year},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata.issued,"year",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.issued.month,expression:"reference.metadata.issued.month"}],attrs:{type:"text",placeholder:"MM"},domProps:{value:e.reference.metadata.issued.month},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata.issued,"month",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.issued.day,expression:"reference.metadata.issued.day"}],attrs:{type:"text",placeholder:"DD"},domProps:{value:e.reference.metadata.issued.day},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata.issued,"day",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"field string"},[a("label",[e._v("URL (i.e. website address)")]),e._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.url,expression:"reference.metadata.url"}],attrs:{type:"text",name:"url"},domProps:{value:e.reference.metadata.url},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata,"url",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"field date"},[a("label",[e._v("Date accessed/viewed")]),e._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.accessed.year,expression:"reference.metadata.accessed.year"}],attrs:{type:"text",placeholder:"YYYY"},domProps:{value:e.reference.metadata.accessed.year},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata.accessed,"year",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.accessed.month,expression:"reference.metadata.accessed.month"}],attrs:{type:"text",placeholder:"MM"},domProps:{value:e.reference.metadata.accessed.month},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata.accessed,"month",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reference.metadata.accessed.day,expression:"reference.metadata.accessed.day"}],attrs:{type:"text",placeholder:"DD"},domProps:{value:e.reference.metadata.accessed.day},on:{input:function(t){t.target.composing||e.$set(e.reference.metadata.accessed,"day",t.target.value)}}})])]),e._v(" "),a("mu-raised-button",{staticClass:"mv3",attrs:{label:"Update",icon:"check",fullWidth:"",secondary:""},on:{click:e.updateDetails}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"material-icons"},[this._v("add_circle_outline")]),this._v("Add another\n        ")])}]};var R=a("VU/8")(k,T,!1,function(e){a("+Tf1")},null,null).exports;function I(e,t){var a=document.createElement("div");a.innerHTML=e,t||(a.innerHTML+="<p>&zwnj;</p>"),a.style.position="fixed",a.style.pointerEvents="none",a.style.opacity=0,a.style.background="#ffffff",a.style.color="#000000",a.style.fontFamily="Times New Roman",a.style.fontSize="12pt",document.body.appendChild(a),window.getSelection().removeAllRanges();var r=document.createRange();r.selectNode(a),window.getSelection().addRange(r),document.execCommand("copy"),document.body.removeChild(a)}function M(e){return(e=e.substr(1+e.lastIndexOf("/")).split("?")[0]).split("#")[0].substr(e.lastIndexOf("."))}var P=new(function(){function e(){v()(this,e)}return y()(e,[{key:"autociteHtml",value:function(){var e=l()(s.a.mark(function e(t,a,r){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g({url:w+"/autocite/html",method:"POST",data:{html:t,url:a,styleId:r}});case 3:return n=e.sent,e.abrupt("return",n.data.result);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"autociteUrl",value:function(){var e=l()(s.a.mark(function e(t,a){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g({url:w+"/autocite/url",method:"POST",data:{url:t,styleId:a}});case 3:return r=e.sent,e.abrupt("return",r.data.result);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"autocitePdf",value:function(){var e=l()(s.a.mark(function e(t,a,r){var n,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("pdf",t),n.append("url",a),n.append("styleId",r),e.next=7,g({url:w+"/autocite/pdf",method:"POST",data:n,headers:{"content-type":"multipart/form-data"}});case 7:return i=e.sent,e.abrupt("return",i.data.result);case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"autociteMetadata",value:function(){var e=l()(s.a.mark(function e(t,a,r){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g({url:w+"/autocite/reference",method:"POST",data:{metadata:t,sourceId:a,styleId:r}});case 3:return n=e.sent,e.abrupt("return",n.data.result);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a,r){return e.apply(this,arguments)}}()}]),e}()),D=a("mvHQ"),L=a.n(D),E=new(function(){function e(){v()(this,e)}return y()(e,[{key:"stashReference",value:function(){var e=l()(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g({url:w+"/import/stash/json",method:"POST",data:{importStr:L()([{sourceId:t.sourceId,urlToImage:t.urlToImage,metadata:t.metadata}])}});case 3:return a=e.sent,e.abrupt("return",a.data.token);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}]),e}()),F=a("O/+C"),N=a.n(F);window.browser=window.browser||window.chrome;var $={name:"Main",components:{Spinner:u,StyleSelector:C,ReferenceForm:R},data:function(){return{isLoading:!0,isError:!1,errorMessage:"",isImporting:!1,selectedStyle:{},reference:{},totalReferenceCount:0,credibilityLevels:[{message:"We don't know how credible this is.",color:"rgba(0,0,0,0.4)",materialIcon:"remove"},{message:"This source is not credible.",color:"#F44336",materialIcon:"close"},{message:"This source is probably not credible.",color:"#EF6C00",materialIcon:"close"},{message:"This source might be credible.",color:"#FF9800",materialIcon:"priority_high"},{message:"This source is probably credible.",color:"#8BC34A",materialIcon:"check"},{message:"This source is credible.",color:"#4CAF50",materialIcon:"check"}],credibilityCommentIsOpen:!1,showReferenceClickToCopy:!1,referenceClickToCopyText:"Click to copy",showInTextCitationClickToCopy:!1,inTextCitationClickToCopyText:"Click to copy",referenceDisplayMode:"formatted",showStyleSelector:!1,showReferenceForm:!1,urlToReviewPage:""}},computed:{credibility:function(){return this.reference.credibility?this.credibilityLevels[this.reference.credibility.score]:this.credibilityLevels[0]}},methods:{handleChangeStyle:function(e){this.selectedStyle=e,window.browser.storage&&window.browser.storage.local.set({selectedStyle:e}),this.doAutocite(),this.handleStyleSelectorClose()},handleStyleSelectorClose:function(){this.showStyleSelector=!1},doAutocite:function(){var e=this;return l()(s.a.mark(function t(){var a,r,n,i,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,e.isError=!1,a="https://www.theguardian.com/technology/2014/jun/11/nominet-new-rules-uk-domain-end-privacy",r=void 0,!window.browser.tabs){t.next=8;break}return t.next=7,new o.a(function(e,t){window.chrome.tabs.query({active:!0,currentWindow:!0},function(a){a.length>0?e(a[0].url):t(new Error("Couldn't access chrome.tabs."))})});case 7:a=t.sent;case 8:if(!a.startsWith("chrome://")){t.next=13;break}return e.errorMessage="This is a Chrome settings page and can't be cited. Please try a page on the internet.",e.isError=!0,e.isLoading=!1,t.abrupt("return");case 13:if(!a.startsWith("file://")){t.next=18;break}return e.errorMessage="Files on your computer cannot be autocited with the extension. Please goto MyBib.com to cite this file.",e.isError=!0,e.isLoading=!1,t.abrupt("return");case 18:return n=void 0,t.prev=19,t.next=22,g({url:a,method:"GET",headers:{Accept:"text/html,*/*"}});case 22:n=t.sent,t.next=27;break;case 25:t.prev=25,t.t0=t.catch(19);case 27:if(!n){t.next=82;break}if(".pdf"!==M(a).toLowerCase()&&"application/pdf"!==n.headers["content-type"]&&!n.data.startsWith("%PDF")){t.next=77;break}return t.prev=29,t.next=32,P.autociteUrl(a,e.selectedStyle.id);case 32:r=t.sent,t.next=41;break;case 35:return t.prev=35,t.t1=t.catch(29),e.errorMessage="Oh snap! Something went wrong, please reload the page and try again.",e.isError=!0,e.isLoading=!1,t.abrupt("return");case 41:if(r){t.next=75;break}return i=void 0,t.prev=43,t.next=46,g({url:a,method:"GET",responseType:"blob"});case 46:i=t.sent,t.next=55;break;case 49:return t.prev=49,t.t2=t.catch(43),e.errorMessage="Oh snap! Something went wrong, please reload the page and try again.",e.isError=!0,e.isLoading=!1,t.abrupt("return");case 55:if(!((c=i.data).size<1024e4)){t.next=71;break}return t.prev=57,t.next=60,P.autocitePdf(c,a,e.selectedStyle.id);case 60:r=t.sent,t.next=69;break;case 63:return t.prev=63,t.t3=t.catch(57),e.errorMessage="We couldn't autocite this PDF, sorry!",e.isError=!0,e.isLoading=!1,t.abrupt("return");case 69:t.next=75;break;case 71:return e.errorMessage="This PDF is too big to autocite, sorry!",e.isError=!0,e.isLoading=!1,t.abrupt("return");case 75:t.next=80;break;case 77:return t.next=79,P.autociteHtml(n.data,a,e.selectedStyle.id);case 79:r=t.sent;case 80:t.next=94;break;case 82:return t.prev=82,t.next=85,P.autociteUrl(a,e.selectedStyle.id);case 85:r=t.sent,t.next=94;break;case 88:return t.prev=88,t.t4=t.catch(82),e.errorMessage="Chrome has blocked this page from being Autocited. Please try another page.",e.isError=!0,e.isLoading=!1,t.abrupt("return");case 94:r?(0===r.metadata.author.length&&r.metadata.author.push({given:"",family:"",literal:""}),e.reference=r,window.browser.storage&&window.browser.storage.local.get("totalReferenceCount",function(e){var t=void 0;t=e.totalReferenceCount?parseInt(e.totalReferenceCount)+1:1,window.browser.storage.local.set({totalReferenceCount:t})}),e.bindTooltips()):(e.errorMessage="Oh snap! Something went wrong, please reload the page and try again.",e.isError=!0),e.isLoading=!1;case 96:case"end":return t.stop()}},t,e,[[19,25],[29,35],[43,49],[57,63],[82,88]])}))()},updateDetails:function(e){var t=this;return l()(s.a.mark(function a(){var r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.showReferenceForm=!1,t.isLoading=!0,a.next=4,P.autociteMetadata(e.metadata,e.sourceId,t.selectedStyle.id);case 4:(r=a.sent)?(t.reference=r,t.bindTooltips()):t.isError=!0,t.isLoading=!1;case 7:case"end":return a.stop()}},a,t)}))()},saveToProject:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isImporting=!0,t.next=3,E.stashReference(e.reference);case 3:a=t.sent,window.browser.tabs&&window.browser.tabs.query({url:"https://www.mybib.com/*"},function(e){e.length>0&&e[0].url.indexOf("/#/")>-1?window.browser.tabs.update(e[0].id,{url:"https://www.mybib.com/#/import/"+a,active:!0}):window.browser.tabs.create({url:"https://www.mybib.com/i/"+a})}),e.isImporting=!1;case 6:case"end":return t.stop()}},t,e)}))()},copyReferenceToClipboard:function(){var e=this;I('<p style="'+("margin-bottom: "+this.reference.entrySpacing+"em; margin-top:0px; line-height:"+(this.reference.lineSpacing<2?1.5:this.reference.lineSpacing)+"em; "+(this.reference.hasHangingIndent?"margin-left:2.5em; text-indent: -2.5em;":""))+'">'+this.reference.formattedReferenceStr+"</p>"),this.referenceClickToCopyText="Copied! Press "+(N.a.mac?"⌘":"Ctrl")+" + V to paste",setTimeout(function(){e.referenceClickToCopyText="Click to copy"},2e3)},copyInTextCitationToClipboard:function(){var e=this;I(this.reference.formattedInTextCitationStr,!0),this.inTextCitationClickToCopyText="Copied! Press "+(N.a.mac?"⌘":"Ctrl")+" + V to paste",setTimeout(function(){e.inTextCitationClickToCopyText="Click to copy"},2e3)},changeReferenceDisplayMode:function(e){this.referenceDisplayMode=e,window.browser.storage&&window.browser.storage.local.set({referenceDisplayMode:e})},handleReferenceFormClose:function(){this.showReferenceForm=!1},bindTooltips:function(){var e=this;setTimeout(function(){e.referenceClickToCopyTooltipTrigger=e.$refs.reference,e.inTextCitationClickToCopyTooltipTrigger=e.$refs.inTextCitation},50)},getAuthorStr:function(e){return function(e){return e.author.length>0?e.author.map(function(e){return e.literal?e.literal:(e.given||"")+" "+(e.family||"")}).join(", "):"Anon"}(e)}},mounted:function(){var e=this;return l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.browser.storage){t.next=5;break}return t.next=3,new o.a(function(t,a){window.browser.storage.local.get("selectedStyle",function(a){a.selectedStyle?e.selectedStyle=a.selectedStyle:(e.selectedStyle={id:"modern-language-association-8th-edition",name:"MLA 8 (Modern Language Association 8th Edition)"},e.showStyleSelector=!0),t()})});case 3:t.next=6;break;case 5:e.selectedStyle={id:"modern-language-association-8th-edition",name:"MLA 8 (Modern Language Association 8th Edition)"};case 6:return window.browser.storage?window.browser.storage.local.get("referenceDisplayMode",function(t){t.referenceDisplayMode?e.referenceDisplayMode=t.referenceDisplayMode:e.referenceDisplayMode="formatted"}):e.referenceDisplayMode="formatted",window.browser.storage&&window.browser.storage.local.get("totalReferenceCount",function(t){t.totalReferenceCount&&(e.totalReferenceCount=parseInt(t.totalReferenceCount))}),N.a.chrome?e.urlToReviewPage="https://chrome.google.com/webstore/detail/x/"+window.browser.runtime.id+"/reviews":N.a.firefox?e.urlToReviewPage="https://addons.mozilla.org/en-US/firefox/addon/mybib-free-web-citer/reviews/":e.urlToReviewPage="https://www.mybib.com",t.next=11,e.doAutocite();case 11:case"end":return t.stop()}},t,e)}))()}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header",{staticClass:"bg-white relative",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)"}},[e._m(0),e._v(" "),a("div",{staticClass:"flex items-center pl2"},[a("i",{staticClass:"material-icons mr2"},[e._v("spellcheck")]),e._v(" "),a("div",{staticStyle:{"max-width":"165px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[e._v(e._s(e.selectedStyle.name)+" style")]),e._v(" "),a("div",{staticClass:"flex flex-grow-1 items-center justify-end tr"},[a("mu-flat-button",{attrs:{label:"Change style",secondary:""},on:{click:function(t){e.showStyleSelector=!0}}})],1)])]),e._v(" "),a("div",{staticClass:"relative",staticStyle:{height:"382px",overflow:"auto"}},[e.isLoading?a("Spinner"):e._e(),e._v(" "),!e.isLoading&&e.isError?a("div",{staticClass:"mh3",staticStyle:{"align-items":"center",bottom:"0",display:"flex","flex-direction":"column","justify-content":"center",left:"0",position:"absolute",right:"0",top:"0"}},[a("div",{staticStyle:{"font-size":"80px"}},[e._v("☹️")]),e._v(" "),a("div",{staticClass:"tc fw5",staticStyle:{"font-size":"20px"},domProps:{innerHTML:e._s(e.errorMessage)}})]):e._e(),e._v(" "),e.isLoading||e.isError?e._e():a("div",{staticClass:"ph2 pv3"},[a("div",{staticClass:"mb3 pa1",staticStyle:{"border-radius":"19px",cursor:"pointer"},style:{background:e.credibility.color},on:{click:function(t){e.credibilityCommentIsOpen=!e.credibilityCommentIsOpen}}},[a("div",{staticClass:"flex items-center "},[a("div",{staticClass:"bg-white br-100 flex items-center justify-center mr2",staticStyle:{height:"30px",width:"30px"},style:{color:e.credibility.color}},[a("i",{staticClass:"material-icons grow"},[e._v(e._s(e.credibility.materialIcon))])]),e._v(" "),a("div",{staticStyle:{color:"rgba(255,255,255,0.9)","flex-grow":"1"}},[e._v(e._s(e.credibility.message))])]),e._v(" "),a("transition",{attrs:{name:"fade-down"}},[e.credibilityCommentIsOpen?a("div",{staticClass:"ma3",staticStyle:{color:"rgba(255,255,255,0.9)"},domProps:{innerHTML:e._s(e.reference.credibility.comment||"No further information.")}}):e._e()])],1),e._v(" "),a("div",{staticClass:"mb3 relative"},[a("div",{ref:"reference",staticClass:"bg-white pa3 overflow-y-scroll overflow-x-hidden",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)","max-height":"176px"}},[a("div",{staticClass:"flex items-center justify-between mb2 relative ttu"},[a("div",{staticClass:"black-80"},[a("button",{staticClass:"display-mode-option pa0",class:{"display-mode-option-active":"formatted"===e.referenceDisplayMode},on:{click:function(t){return e.changeReferenceDisplayMode("formatted")}}},[e._v("Formatted")]),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("button",{staticClass:"display-mode-option pa0",class:{"display-mode-option-active":"details"===e.referenceDisplayMode},on:{click:function(t){return e.changeReferenceDisplayMode("details")}}},[e._v("Details")])]),e._v(" "),a("div",{staticClass:"flex items-center"},[a("button",{staticClass:"pa0 edit-reference-btn",on:{click:function(t){e.showReferenceForm=!0}}},[e._m(1)])])]),e._v(" "),"formatted"===e.referenceDisplayMode?a("div",{staticClass:"citation-text",staticStyle:{"margin-left":"14px","text-indent":"-14px"},domProps:{innerHTML:e._s(e.reference.formattedReferenceStr)},on:{click:e.copyReferenceToClipboard,mouseenter:function(t){e.showReferenceClickToCopy=!0}}}):e._e(),e._v(" "),"details"===e.referenceDisplayMode?a("div",{staticClass:"reference-details"},[a("div",{staticClass:"title"},[e._v(e._s(e.reference.metadata.title||"Untitled"))]),e._v(" "),a("div",{staticClass:"details"},[a("span",[e._v("By "),a("span",[e._v(e._s(e.getAuthorStr(e.reference.metadata)))])]),e._v(" "),e.reference.metadata.containerTitle?a("span",[e._v("Container: "),a("span",[e._v(e._s(e.reference.metadata.containerTitle))])]):e._e(),e._v(" "),e.reference.metadata.publisher?a("span",[e._v("Publisher: "),a("span",[e._v(e._s(e.reference.metadata.publisher))])]):e._e(),e._v(" "),e.reference.metadata.publisherPlace?a("span",[e._v("Publisher Place: "),a("span",[e._v(e._s(e.reference.metadata.publisherPlace))])]):e._e(),e._v(" "),e.reference.metadata.issued&&e.reference.metadata.issued.year?a("span",[e._v("Year: "),a("span",[e._v(e._s(e.reference.metadata.issued.year))])]):e._e(),e._v(" "),e.reference.metadata.edition?a("span",[e._v("Edition: "),a("span",[e._v(e._s(e.reference.metadata.edition))])]):e._e(),e._v(" "),e.reference.metadata.volume?a("span",[e._v("Volume: "),a("span",[e._v(e._s(e.reference.metadata.volume))])]):e._e(),e._v(" "),e.reference.metadata.issue?a("span",[e._v("Issue: "),a("span",[e._v(e._s(e.reference.metadata.issue))])]):e._e(),e._v(" "),e.reference.metadata.doi?a("span",[e._v("DOI: "),a("span",[e._v(e._s(e.reference.metadata.doi))])]):e._e(),e._v(" "),e.reference.metadata.isbn?a("span",[e._v("ISBN: "),a("span",[e._v(e._s(e.reference.metadata.isbn))])]):e._e(),e._v(" "),e.reference.metadata.url?a("span",[e._v("URL: "),a("span",{staticStyle:{"word-break":"break-all"}},[e._v(e._s(e.reference.metadata.url))])]):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"absolute click-to-copy f3 flex items-center justify-center white",class:{show:e.showReferenceClickToCopy},on:{click:e.copyReferenceToClipboard,mouseleave:function(t){e.showReferenceClickToCopy=!1}}},[e._v(e._s(e.referenceClickToCopyText))])])]),e._v(" "),a("div",{staticClass:"mb3 relative"},[a("div",{ref:"reference",staticClass:"bg-white pa3 overflow-y-scroll overflow-x-hidden",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)","max-height":"100px"}},[a("div",{staticClass:"black-80 fw5 mb2 ttu"},[e._v("In-text citation")]),e._v(" "),a("div",{ref:"inTextCitation",staticClass:"citation-text",domProps:{innerHTML:e._s(e.reference.formattedInTextCitationStr)},on:{click:e.copyInTextCitationToClipboard,mouseenter:function(t){e.showInTextCitationClickToCopy=!0}}}),e._v(" "),a("div",{staticClass:"absolute click-to-copy f3 flex items-center justify-center white",class:{show:e.showInTextCitationClickToCopy},on:{click:e.copyInTextCitationToClipboard,mouseleave:function(t){e.showInTextCitationClickToCopy=!1}}},[e._v(e._s(e.inTextCitationClickToCopyText))])])])])],1),e._v(" "),a("div",[a("mu-flat-button",{staticStyle:{"border-radius":"0",display:"block",height:"44px",width:"100%"},attrs:{label:e.isImporting?"Saving...":"Save to project",icon:"add",disabled:e.isLoading||e.isError||e.isImporting,backgroundColor:"#2196f3",color:"#ffffff"},on:{click:e.saveToProject}}),e._v(" "),a("div",{staticClass:"items-center bg-white black-50 flex pa3 tc",staticStyle:{height:"92px"}},[e.totalReferenceCount>3&&e.reference&&e.reference.formattedReferenceStr&&-1===e.reference.formattedReferenceStr.indexOf("experiencing")?a("span",[e._v("\n        If you have any feedback for us, or just want to say thanks, we'd LOVE "),a("span",{staticClass:"heart"},[e._v("❤️")]),e._v(" to hear it."),a("br"),e._v("Let us know "),a("a",{attrs:{href:e.urlToReviewPage,target:"_blank"}},[e._v("on our reviews page!")])]):a("span",[e._v("\n        Cite books, journals, videos and more with the full tool at "),a("a",{attrs:{href:"https://www.mybib.com",target:"_blank"}},[e._v("MyBib.com")])])])],1),e._v(" "),a("transition",{attrs:{name:"fade-up"}},[e.showStyleSelector?a("StyleSelector",{attrs:{currentStyle:e.selectedStyle},on:{changeStyle:e.handleChangeStyle,close:e.handleStyleSelectorClose}}):e._e()],1),e._v(" "),a("transition",{attrs:{name:"fade-up"}},[e.isLoading||e.isError||!e.showReferenceForm?e._e():a("ReferenceForm",{attrs:{reference:e.reference},on:{updateDetails:e.updateDetails,close:e.handleReferenceFormClose}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"f4 mv0 mh2 pv2 flex items-center justify-center",staticStyle:{"border-bottom":"1px dotted #e9eaed"}},[t("img",{staticClass:"mr2 absolute",staticStyle:{left:"33px",width:"30px"},attrs:{src:"/static/images/logo.svg"}}),this._v(" "),t("div",{staticStyle:{"margin-left":"39px"}},[this._v("MyBib"),t("span",{staticClass:"fw4 ml1"},[this._v("Citation Generator")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"material-icons",staticStyle:{"font-size":"16px"}},[this._v("edit")]),this._v(" Edit\n                ")])}]};var A=a("VU/8")($,O,!1,function(e){a("k+DZ")},"data-v-53a64bce",null).exports,j={name:"App",components:{Main:A}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Main")],1)},staticRenderFns:[]};var H=a("VU/8")(j,U,!1,function(e){a("4kcg")},null,null).exports,z=a("/ocq");r.default.use(z.a);var V=new z.a({routes:[{path:"/",name:"Main",component:A}]}),W=a("u64Q"),Y=a.n(W),q=a("mtWM"),B=a.n(q);r.default.use(Y.a),r.default.config.productionTip=!1,B.a.defaults.headers.common.Accept="text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8",new r.default({el:"#app",router:V,components:{App:H},render:function(e){return e(H)}})},"k+DZ":function(e,t){},suC7:function(e,t){},wprs:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.js.map