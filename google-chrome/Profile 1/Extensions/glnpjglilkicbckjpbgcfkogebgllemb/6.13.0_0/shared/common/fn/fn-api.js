!function fnApiIIFE(){var u=Okta.Constants,c=Okta.BrowserUtil,e=Okta._okta,p=e.contains,d=e.omit,g=Okta.fn.base.timestamp,t=Okta.fn.api={},n="/api/internal/enduser/home",r="/api/v1/users/me/home/tabs?expand=items%2Citems.resource",i="/api/internal/enduser/recently-used-apps",a="/api/enduser/v1",s="/api/internal/enduser/vault";t.prependPath=function(e){return"/api/plugin/2"+e},t.prependEndUserPath=function(e){return a+e},t.getEndUserHomeUri=function(){return n},t.getRecentlyUsedAppsUri=function(){return i},t.getEndUserVaultUri=function(){return s},t.getSelfServiceSiteInfo=function(e){return e&&e.orgSettings&&e.orgSettings.pluginRunOnAppSignupEnabled?"/self-service-site-maps":"/hashed-self-service-sites"},t.getCheckPluginFirstPartyAppUri=function(){return t.prependPath("/check-plugin-session?check_fpa=true")},t.getToSettings=function(e,t){var n=-1==e.indexOf("?")?"?":"&";return{type:"get",url:e+n+"plugin_version="+(t.backgroundVersion+"-"+t.contentVersion),headers:{Accept:"application/json;charset=utf-8"}}},t.postToSettings=function(e,t){return{type:"post",url:e,data:t,headers:{Accept:"application/json;charset=utf-8"}}},t.getTabsPathInfo=function(e){return e.orgSettings&&e.orgSettings.pluginPopoverQuickAccessAppsEnabled?r+"&type=all":r},t.isEnduserHomeValid=function(e){return!!e&&!!e.userId&&!!e.orgId},t.postToPendoTrackEventSettings=function(e,t,n,r){var i=t.timestamp||g(),a=d(t,"timestamp"),s={type:"track",event:e,visitorId:n.userId,accountId:n.orgId,timestamp:i,properties:a,context:{userAgent:c.getUserAgent(),title:"okta-plugin"}},o=p(u.OktaPersonalOrgIds,n.orgId)?"d962b3a3-fb4e-4fe6-507a-39e016bb3fb4":"cc0bda8c-c34a-4b91-5719-634058959cf0";return{type:"post",url:r?u.PendoEventTrackUrlDebug:u.PendoEventTrackUrl,data:JSON.stringify(s),headers:{"content-type":"application/json","x-pendo-integration-key":o}}},t.setSessionData=function(e,t){return e&&(e.idx?t["X-Okta-Idx-Session-Jwe"]=e.idx:(t["X-Session-Id"]=e.sid,t["X-Device-Token"]=e.DT)),t},t.setAuthData=function(e,t){return e&&e.access_token&&(t.Authorization="Bearer "+e.access_token.accessToken),t},t.createApiForAccount=function(e,t){var n=new Okta.Storage(e),r=new Okta.CryptoManager(window);return n.readMultiAccount().then(function(){return n.setCurrentAccountIndex(t),new Okta.Api(e,n,r)})}}();